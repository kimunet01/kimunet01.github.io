---
title: "#1 ì¹¨ëŒ€ ìƒí˜¸ì‘ìš© ìˆ˜ì •"
date: 2026-02-22 04:30:00 +0900
categories: [DevLog, The-Bear] # [ëŒ€ë¶„ë¥˜, ì†Œë¶„ë¥˜] ìˆœì„œì…ë‹ˆë‹¤.
tags: [Unity]
---

`â— ì €ë²ˆ ì£¼ íšŒì˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¹¨ëŒ€ ìƒí˜¸ì‘ìš© ì•¡ì…˜ì„ ë°”ê¾¸ê²Œ ë˜ì—ˆìŒ.  `
<br>

**ğŸ”´ ê¸°ì¡´ ë°©ë²•**
<div style="background: #fff; border: 1px solid #ddd; padding: 10px; display: flex; gap: 10px;">
  <div style="flex: 1; text-align: center;">
    <img src="/assets/img/posts/2026-02-22-the-bear/Standing_point_before.PNG" alt="Standing Point" style="width: 100%; height: 200px; object-fit: cover;">
    <small>Standing Point</small>
  </div>
  <div style="flex: 1; text-align: center;">
    <img src="/assets/img/posts/2026-02-22-the-bear/Bed_LookATPosition.PNG" alt="Look At Point" style="width: 100%; height: 200px; object-fit: cover;">
    <small>Look At Point</small>
  </div>
</div>

> ìƒí˜¸ì‘ìš©ì‹œì— StandingPoint ë¡œ ì´ë™í•˜ì—¬ LookAtPointë¥¼ ë³´ë©° ì•”ì „ì´ ë˜ê³  ë‹¤ì‹œ ë°ì•„ì§€ëŠ” í˜•ì‹

![ê¸°ì¡´ ì‘ë™](/assets/img/posts/2026-02-22-the-bear/Bed_interaction_0.gif)
<br>

 **ğŸŸ¡ ê°œì„  ëª©í‘œ**

 ![ì§€í–¥ì ](/assets/img/posts/2026-02-22-the-bear/Bed_interaction_wanted.PNG)
 `ì´ëŸ°ì‹ìœ¼ë¡œ ìºë¦­í„°ê°€ ëˆ„ìš´ìƒíƒœë¡œ ì•”ì „ì´ ì§„í–‰ë˜ê³ , ë‹¤ì‹œ ë°ì•„ì§ˆë•Œ ì›ìƒíƒœë¡œ ëŒì•„ì™€ì•¼í•¨.`

<br>

 **ğŸ” êµ¬í˜„ ì „ëµ ìˆ˜ë¦½**

 `ê¸°ì¡´ì½”ë“œ`
```csharp
IEnumerator SleepRoutineCoroutine(BedInteractable bed)
{
    isHandlingRoutine = true;
    moveVelocity = Vector3.zero;

    // 1. ì¹¨ëŒ€ ìœ„ì¹˜ë¡œ ì´ë™ ë° ì‹œì„  ê³ ì •
    float elapsed = 0;
    float moveDuration = 1.0f;
    Vector3 startPos = transform.position;
    Quaternion startRot = transform.rotation;

    while (elapsed < moveDuration)
    {
        elapsed += Time.deltaTime * 2.0f;
        float t = elapsed / moveDuration;
        transform.position = Vector3.Lerp(startPos, bed.sleepPoint.position, t);
        
        // ì‹œì„  ì²˜ë¦¬ (ëˆ„ìš´ ìì„¸ ì—°ì¶œ)
        Vector3 targetDir = (bed.lookAtPoint.position - playerCamera.transform.position).normalized;
        transform.rotation = Quaternion.Slerp(startRot, Quaternion.LookRotation(new Vector3(targetDir.x, 0, targetDir.z)), t);
        yield return null;
    }

    // 2. ì•”ì „
    if (GameManager.Instance != null) dayTextUI.text = GameManager.Instance.GetNextDayText(); 

    elapsed = 0;
    while (elapsed < bed.fadeDuration)
    {
        elapsed += Time.deltaTime;
        sleepCanvasGroup.alpha = Mathf.Clamp01(elapsed / bed.fadeDuration);
        yield return null;
    }

    // 3. ëŒ€ê¸°
    yield return new WaitForSeconds(bed.blackScreenHoldTime);

    // 4. í™”ë©´ ë°ì•„ì§€ê¸°
    elapsed = 0;
    while (elapsed < bed.fadeDuration)
    {
        elapsed += Time.deltaTime;
        sleepCanvasGroup.alpha = Mathf.Clamp01(1 - (elapsed / bed.fadeDuration));
        yield return null;
    }

    isHandlingRoutine = false;
}
```

```
í•´ë‹¹ ë°©ì‹ì—ì„œ
1ï¸âƒ£ StandPointë¥¼ SleepPointë¡œ ë°”ê¿” ì¹¨ëŒ€ì˜ ë‚´ë¶€ê³µê°„ìœ¼ë¡œ ì„¤ì •
2ï¸âƒ£ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìºë¦­í„°ë¥¼ ì›€ì§ì´ê³  ê°ë„ë¥¼ íšŒì „
3ï¸âƒ£ WakeUpPointë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì„œ ì¼ì–´ë‚  ìœ„ì¹˜ ì„¤ì •
```
<br>

`ğŸ’­ ì´ ë°©ì‹ì—ì„œ ì¼ì–´ ë‚  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜`
```
ìºë¦­í„°ë¥¼ íšŒì „ì‹œí‚¬ë•Œ Rigidì™€ í•¨ê»˜ íšŒì „ì´ ë˜ëŠ”ê²ƒì´ ì•„ë‹˜.
ë”°ë¼ì„œ ìºë¦­í„°ê°€ ì¶©ëŒë•Œë¬¸ì— ì´ìƒí•˜ê²Œ ì›€ì§ì¼ìˆ˜ë„ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŒ.
```

`ğŸ’¡ í•´ê²° ë°©ì•ˆ`
```
ë‘ê°€ì§€ ë°©ë²•ì´ ë– ì˜¬ëìŒ.
1ï¸âƒ£ ì¹¨ëŒ€ì— ìƒí˜¸ì‘ìš© í•  ë•Œ ì ìš©ë˜ëŠ” ë¬¼ë¦¬ ì—”ì§„ì„ êº¼ë²„ë¦¬ê³  ëë‚ ë•Œ ë‹¤ì‹œ ë³µêµ¬
2ï¸âƒ£ ìºë¦­í„°ë¥¼ íšŒì „ì‹œí‚¬ ë•Œ Rigidë„ ê°™ì´ íšŒì „
```

`âœ… ì„ íƒ ë°©ë²•`
```
Rigidë‘ ê°™ì´ íšŒì „í•˜ê²Œ ë˜ë©´ ì•”ì „ì´ ëë‚˜ê³  í™”ë©´ì´ ë°ì•„ì§ˆ ë•Œ ë‹¤ì‹œ Rigidë¥¼ ì›ìƒ ë³µêµ¬í•˜ëŠ” ì½”ë“œê°€ í•„ìš”í•˜ê³ ,
ìœ„ì¹˜ì˜ ì„¸ë°€í•œ ì¡°ì •ì´ í•„ìš”í•  ìˆ˜ ìˆì„ê²ƒ ê°™ìŒ.
â¡ ìŠ¤ìœ„ì¹˜ë¥¼ ë„ê³  ì¼œë“¯ì´ ë¬¼ë¦¬ ì—”ì§„ì„ ë„ê³  ì¼œëŠ” ë°©ë²• ì„ íƒ.
```
<br>

`ğŸŸ  ìˆ˜ì • ì½”ë“œ`
```csharp
IEnumerator SleepRoutineCoroutine(BedInteractable bed)
{
    isHandlingRoutine = true;
    moveVelocity = Vector3.zero;

    // ë¬¼ë¦¬ ì—”ì§„ ë„ê¸°
    if (controller != null) controller.enabled = false;

    // 1. ì¹¨ëŒ€ ëˆ•ê¸°
    float elapsed = 0;
    float moveDuration = 1.0f;
    Vector3 startPos = transform.position;
    Quaternion startRot = transform.rotation;

    Quaternion targetRot = Quaternion.Euler(bed.sleepRotation);

    while (elapsed < moveDuration)
    {
        elapsed += Time.deltaTime;
        float t = elapsed / moveDuration;
        transform.position = Vector3.Lerp(startPos, bed.sleepPoint.position, t);
        transform.rotation = Quaternion.Slerp(startRot, targetRot, t);
        yield return null;
    }

    // 2. ì•”ì „
    if (GameManager.Instance != null) dayTextUI.text = GameManager.Instance.GetNextDayText(); 
    
    elapsed = 0;
    while (elapsed < bed.fadeDuration)
    {
        elapsed += Time.deltaTime;
        sleepCanvasGroup.alpha = Mathf.Clamp01(elapsed / bed.fadeDuration);
        yield return null;
    }

    // 3. ëŒ€ê¸°
    yield return new WaitForSeconds(bed.blackScreenHoldTime);

    // 4. ìºë¦­í„° ë³µê·€
    transform.rotation = Quaternion.Euler(bed.wakeUpRotation); 
    transform.position = bed.wakeUpPoint.position; 

    // 5. í™”ë©´ ë°ì•„ì§€ê¸°
    elapsed = 0;
    while (elapsed < bed.fadeDuration)
    {
        elapsed += Time.deltaTime;
        sleepCanvasGroup.alpha = Mathf.Clamp01(1 - (elapsed / bed.fadeDuration));
        yield return null;
    }

    // ë¬¼ë¦¬ ì—”ì§„ ì¼œê¸°
    if (controller != null) controller.enabled = true;
    isHandlingRoutine = false;
}
```
![ìˆ˜ì •1 ì‘ë™í™”ë©´](/assets/img/posts/2026-02-22-the-bear/Bed_interaction_1.gif)
`ë­”ê°€ ë”±ë”±í•˜ê³  ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ê²ƒ ê°™ìŒì„ ëŠë‚Œ`

`ğŸ’¡ í•´ê²° ë°©ì•ˆ`

```
LerpëŠ” ì„ í˜•ë³´ê°„ì´ê¸° ë•Œë¬¸ì— SmoothStepì„ ì‚¬ìš©í•´ ê°€ì†ì´ë‘ ê°ì†ì„ ì£¼ë©´ ë  ê²ƒ ê°™ìŒ.
ì¼ì–´ë‚¬ì„ë•Œì˜ ì‹œì•¼ë„ ì‚´ì§ ë³´ì •í•´ ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ìŒ.
```

`ğŸŸ¢ ìµœì¢… ì½”ë“œ`
```csharp
IEnumerator SleepRoutineCoroutine(BedInteractable bed)
{
	isHandlingRoutine = true;
	moveVelocity = Vector3.zero;

    // ë¬¼ë¦¬ ì—”ì§„ ë„ê¸°
	if (controller != null) controller.enabled = false;

	// 1. ì¹¨ëŒ€ ëˆ•ê¸°
	float elapsed = 0;
	float moveDuration = 1.0f;
	Vector3 startPos = transform.position;
	Quaternion startRot = transform.rotation;

	Quaternion targetRot = Quaternion.Euler(bed.sleepRotation);

	while (elapsed < moveDuration)
	{
		elapsed += Time.deltaTime;
		float t = elapsed / moveDuration;
		float smoothT = Mathf.SmoothStep(0f, 1f, t); 

		transform.position = Vector3.Lerp(startPos, bed.sleepPoint.position, smoothT);
		transform.rotation = Quaternion.Slerp(startRot, targetRot, smoothT);
		yield return null;
	}

	// 2. ì•”ì „
	if (GameManager.Instance != null) dayTextUI.text = GameManager.Instance.GetNextDayText(); 
	
	elapsed = 0;
	while (elapsed < bed.fadeDuration)
	{
		elapsed += Time.deltaTime;
		sleepCanvasGroup.alpha = Mathf.Clamp01(elapsed / bed.fadeDuration);
		yield return null;
	}

	// 3. ëŒ€ê¸°
	yield return new WaitForSeconds(bed.blackScreenHoldTime);

	// 4. ìºë¦­í„° ë³µê·€
	transform.rotation = Quaternion.Euler(bed.wakeUpRotation); 
	transform.position = bed.wakeUpPoint.position; 
	currentCameraRotationX = 10.8f;
	playerCamera.transform.localEulerAngles = new Vector3(currentCameraRotationX, 0, 0);

	// 5. í™”ë©´ ë°ì•„ì§€ê¸°
	elapsed = 0;
	while (elapsed < bed.fadeDuration)
	{
		elapsed += Time.deltaTime;
		sleepCanvasGroup.alpha = Mathf.Clamp01(1 - (elapsed / bed.fadeDuration));
		yield return null;
	}

	// ë¬¼ë¦¬ ì—”ì§„ ì¼œê¸°
	if (controller != null) controller.enabled = true;
	isHandlingRoutine = false;
}
```

`â­• ìµœì¢… ì‹¤í–‰ ê²°ê³¼`
![ìµœì¢… ì‹¤í–‰ ê²°ê³¼](/assets/img/posts/2026-02-22-the-bear/Bed_interaction_final.gif)

<br>

`ğŸ“ ëŠë‚€ì `
```
ì½”ë“œê°€ ë„ˆë¬´ ì§€ì €ë¶„í•˜ê²Œ íœ˜ê°ˆê²¨ì ¸ìˆì–´ì„œ ìˆ˜ì •í•˜ê¸° ë„ˆë¬´ í˜ë“¤ì—ˆìŒ;
ê·¼ë° ê²°ê³¼ë¬¼ì€ ì¼ë‹¨ ë§Œì¡±ë§Œì¡± ëŒ€ë§Œì¡±
```